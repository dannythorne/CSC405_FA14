<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>~/public_html/CSC405_FA14/PHP/table_read.php.html</title>
<meta name="Generator" content="Vim/7.2">
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-15">
</head>
<body bgcolor="#808080" text="#ffffff"><font face="monospace">
<font color="#00ffff"><b>&lt;!DOCTYPE html&gt;</b></font><br>
<font color="#00ffff"><b>&lt;</b></font><font color="#ffff00"><b>html</b></font><font color="#00ffff"><b>&gt;</b></font><br>
<font color="#00ffff"><b>&lt;</b></font><font color="#ffff00"><b>head</b></font><font color="#00ffff"><b>&gt;</b></font><br>
<font color="#00ffff"><b>&lt;</b></font><font color="#ffff00"><b>title</b></font><font color="#00ffff"><b>&gt;</b></font><span style="background-color: #808080"><font color="#8080ff"><b>Read a Table from a MySQL Database</b></font></span><font color="#00ffff"><b>&lt;/</b></font><font color="#ffff00"><b>title</b></font><font color="#00ffff"><b>&gt;</b></font><br>
<font color="#00ffff"><b>&lt;/</b></font><font color="#ffff00"><b>head</b></font><font color="#00ffff"><b>&gt;</b></font><br>
<font color="#00ffff"><b>&lt;</b></font><font color="#ffff00"><b>body</b></font><font color="#00ffff"><b>&gt;</b></font><br>
<br>
<font color="#ff6060"><b>&lt;?php</b></font><br>
<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>Hello, PHP :-P</b></font>&quot;;<br>
<br>
<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>host</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;&quot;&quot;;<br>
<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>username</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;&quot;<font color="#ff40ff"><b>dthorne0_fa14</b></font>&quot;;<br>
<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>password</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;&quot;&quot;;<br>
<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>database</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;&quot;<font color="#ff40ff"><b>dthorne0_fa14</b></font>&quot;;<br>
<br>
<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>mysqli</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;<font color="#8080ff"><b>new</b></font>&nbsp;mysqli<font color="#ff6060"><b>(</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>host</b></font>, <font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>username</b></font>, <font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>password</b></font>,&nbsp;&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>database</b></font><font color="#ff6060"><b>)</b></font>;<br>
<br>
<font color="#ffff00"><b>if</b></font><font color="#ff6060"><b>(</b></font>&nbsp;mysqli_connect_errno<font color="#ff6060"><b>())</b></font><br>
<font color="#ff6060"><b>{</b></font><br>
&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;div&gt;</b></font>&quot;;<br>
&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>ERROR: </b></font>&quot;<font color="#ffff00"><b>.</b></font>mysqli_connect_errno<font color="#ff6060"><b>()</b></font>;<br>
&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;/div&gt;</b></font>&quot;;<br>
<font color="#ff6060"><b>}</b></font><br>
<font color="#ffff00"><b>else</b></font><br>
<font color="#ff6060"><b>{</b></font><br>
&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;div&gt;Connected Successfully :-P&lt;/div&gt;</b></font>&quot;;<br>
<br>
&nbsp;&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>query</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;&quot;<font color="#ff40ff"><b>select * from People;</b></font>&quot;;<br>
<br>
&nbsp;&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>result</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>mysqli</b></font><font color="#00ff00"><b>-&gt;</b></font>query<font color="#ff6060"><b>(</b></font><font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>query</b></font><font color="#ff6060"><b>)</b></font>;<br>
<br>
&nbsp;&nbsp;<font color="#ffff00"><b>if</b></font><font color="#ff6060"><b>(</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>result</b></font><font color="#ff6060"><b>)</b></font><br>
&nbsp;&nbsp;<font color="#ff6060"><b>{</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>// use the result</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>Query worked :-P</b></font>&quot;;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>numrows</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>result</b></font><font color="#00ff00"><b>-&gt;</b></font>num_rows;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>numcols</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>result</b></font><font color="#00ff00"><b>-&gt;</b></font>field_count;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>fields</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>result</b></font><font color="#00ff00"><b>-&gt;</b></font>fetch_fields<font color="#ff6060"><b>()</b></font>; <font color="#00ffff"><b>// returns an array</b></font><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;div&gt;</b></font>&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>numrows: </b></font>&quot;<font color="#ffff00"><b>.</b></font><font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>numrows</b></font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;/div&gt;</b></font>&quot;;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;div&gt;</b></font>&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>numcols: </b></font>&quot;<font color="#ffff00"><b>.</b></font><font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>numcols</b></font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;/div&gt;</b></font>&quot;;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;table border='1' cellpadding='4' cellspacing='0'&gt;</b></font>&quot;;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;tr&gt;</b></font>&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffff00"><b>for</b></font><font color="#ff6060"><b>(</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>i</b></font><font color="#ffff00"><b>=</b></font><font color="#ff40ff"><b>0</b></font>; <font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>i</b></font><font color="#ffff00"><b>&lt;</b></font><font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>numcols</b></font>; <font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>i</b></font><font color="#ffff00"><b>++</b></font><font color="#ff6060"><b>)</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff6060"><b>{</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;th&gt;</b></font>&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>fields</b></font><font color="#ff6060"><b>[</b></font><font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>i</b></font><font color="#ff6060"><b>]</b></font><font color="#00ff00"><b>-&gt;</b></font><font color="#00ffff"><b>name</b></font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;/th&gt;</b></font>&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff6060"><b>}</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;/tr&gt;</b></font>&quot;;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>// fetch_row returns an array containing the</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>// values in the next row if there is another row</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>// and &quot;false&quot; otherwise.</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffff00"><b>while</b></font><font color="#ff6060"><b>(</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>row</b></font>&nbsp;<font color="#ffff00"><b>=</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>result</b></font><font color="#00ff00"><b>-&gt;</b></font>fetch_row<font color="#ff6060"><b>())</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff6060"><b>{</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;tr&gt;</b></font>&quot;;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffff00"><b>for</b></font><font color="#ff6060"><b>(</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>i</b></font><font color="#ffff00"><b>=</b></font><font color="#ff40ff"><b>0</b></font>; <font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>i</b></font><font color="#ffff00"><b>&lt;</b></font><font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>numcols</b></font>; <font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>i</b></font><font color="#ffff00"><b>++</b></font><font color="#ff6060"><b>)</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff6060"><b>{</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;td&gt;</b></font>&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>row</b></font><font color="#ff6060"><b>[</b></font><font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>i</b></font><font color="#ff6060"><b>]</b></font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;/td&gt;</b></font>&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff6060"><b>}</b></font><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;/tr&gt;</b></font>&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff6060"><b>}</b></font><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>&lt;/table&gt;</b></font>&quot;;<br>
<br>
&nbsp;&nbsp;<font color="#ff6060"><b>}</b></font><br>
&nbsp;&nbsp;<font color="#ffff00"><b>else</b></font><br>
&nbsp;&nbsp;<font color="#ff6060"><b>{</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>// error</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#8080ff"><b>echo</b></font>&nbsp;&quot;<font color="#ff40ff"><b>ERROR: </b></font>&quot;<font color="#ffff00"><b>.</b></font><font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>mysqli</b></font><font color="#00ff00"><b>-&gt;</b></font>error;<br>
&nbsp;&nbsp;<font color="#ff6060"><b>}</b></font><br>
<br>
&nbsp;&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>result</b></font><font color="#00ff00"><b>-&gt;</b></font>free<font color="#ff6060"><b>()</b></font>;<br>
<br>
&nbsp;&nbsp;<font color="#ffff00"><b>$</b></font><font color="#00ffff"><b>mysqli</b></font><font color="#00ff00"><b>-&gt;</b></font>close<font color="#ff6060"><b>()</b></font>;<br>
<font color="#ff6060"><b>}</b></font><br>
<br>
<br>
<font color="#ff6060"><b>?&gt;</b></font><br>
<br>
<font color="#00ffff"><b>&lt;/</b></font><font color="#ffff00"><b>body</b></font><font color="#00ffff"><b>&gt;</b></font><br>
<font color="#00ffff"><b>&lt;/</b></font><font color="#ffff00"><b>html</b></font><font color="#00ffff"><b>&gt;</b></font><br>
</font></body>
</html>
